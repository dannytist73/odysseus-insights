<!-- views/voyage-compass.ejs -->
<%- include('./partials/header') %>

<main
  class="min-h-screen bg-gradient-to-b from-blue-900 via-[#1a237e] to-[#0d1437] pt-32"
>
  <div class="max-w-7xl mx-auto px-4 lg:px-8 pb-20">
    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-[#7FFFD4] text-4xl md:text-5xl font-semibold mb-4">
        Generate Your Travel Insights
      </h1>
      <p class="text-white/80 text-xl max-w-3xl mx-auto">
        Navigate your adventure with precision. Get real-time insights on costs,
        weather, and accommodations.
      </p>
    </div>

    <!-- Main Form -->
    <div class="bg-white/10 backdrop-blur-sm rounded-xl p-8 mb-12">
      <form id="voyageForm" class="space-y-8">
        <!-- Destination Input -->
        <div>
          <label class="block text-white mb-2">Where are you going?</label>
          <input
            type="text"
            name="destination"
            placeholder="Enter your destination (e.g., Tokyo, Japan)"
            class="w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[#7FFFD4]"
            required
          />
        </div>

        <!-- Trip Dates -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-white mb-2">Start Date</label>
            <input
              type="date"
              name="startDate"
              class="w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#7FFFD4]"
              required
            />
          </div>
          <div>
            <label class="block text-white mb-2">End Date</label>
            <input
              type="date"
              name="endDate"
              class="w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#7FFFD4]"
              required
            />
          </div>
        </div>

        <!-- Travelers & Budget -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-white mb-2">Number of Travelers</label>
            <input
              type="number"
              name="travelers"
              min="1"
              placeholder="e.g., 4"
              class="w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[#7FFFD4]"
              required
            />
          </div>
          <div>
            <label class="block text-white mb-2">
              Budget
              <button
                type="button"
                id="changeCurrency"
                class="ml-2 text-[#7FFFD4] text-sm hover:text-[#70E0C0] transition-colors"
              >
                <i class="fas fa-exchange-alt"></i> Change Currency
              </button>
            </label>
            <div class="relative">
              <input
                type="text"
                inputmode="decimal"
                name="budget"
                placeholder="Your total budget"
                class="w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 pl-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[#7FFFD4]"
                required
                min="0"
                step="0.01"
                pattern="[0-9]*\.?[0-9]*"
                title="Please enter a valid amount"
              />
              <span
                id="currencySymbol"
                class="currency-symbol absolute left-4 top-1/2 -translate-y-1/2 text-white/70"
                >$</span
              >
              <input
                type="hidden"
                name="currency"
                id="selectedCurrency"
                required
              />
            </div>
          </div>
        </div>

        <!-- Trip Requirements -->
        <div class="space-y-6">
          <h3 class="text-[#7FFFD4] text-xl font-semibold">
            Trip Requirements
          </h3>

          <!-- Accommodation Preferences -->
          <div class="bg-white/5 rounded-lg p-6">
            <h4 class="text-white font-medium mb-4">
              Accommodation Preferences
            </h4>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="luxuryHotel"
                  name="luxuryHotel"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="luxuryHotel" class="text-white">Luxury Hotel</label>
              </div>
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="midRangeHotel"
                  name="midRangeHotel"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="midRangeHotel" class="text-white"
                  >Mid-range Hotel</label
                >
              </div>
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="budgetHostel"
                  name="budgetHostel"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="budgetHostel" class="text-white"
                  >Budget/Hostel</label
                >
              </div>
            </div>
          </div>

          <!-- Trip Interests -->
          <div class="bg-white/5 rounded-lg p-6">
            <h4 class="text-white font-medium mb-4">Trip Interests</h4>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="culturalSites"
                  name="culturalSites"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="culturalSites" class="text-white"
                  >Cultural Sites</label
                >
              </div>
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="localCuisine"
                  name="localCuisine"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="localCuisine" class="text-white"
                  >Local Cuisine</label
                >
              </div>
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="outdoorActivities"
                  name="outdoorActivities"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="outdoorActivities" class="text-white"
                  >Outdoor Activities</label
                >
              </div>
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="shopping"
                  name="shopping"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="shopping" class="text-white">Shopping</label>
              </div>
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="nightlife"
                  name="nightlife"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="nightlife" class="text-white">Nightlife</label>
              </div>
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="relaxation"
                  name="relaxation"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="relaxation" class="text-white">Relaxation</label>
              </div>
            </div>
          </div>

          <!-- Special Requirements -->
          <div class="bg-white/5 rounded-lg p-6">
            <h4 class="text-white font-medium mb-4">Special Requirements</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="accessibility"
                  name="accessibility"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="accessibility" class="text-white"
                  >Accessibility Needs</label
                >
              </div>
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="familyFriendly"
                  name="familyFriendly"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="familyFriendly" class="text-white"
                  >Family-Friendly</label
                >
              </div>
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="dietaryRestrictions"
                  name="dietaryRestrictions"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="dietaryRestrictions" class="text-white"
                  >Dietary Restrictions</label
                >
              </div>
              <div class="flex items-center space-x-3">
                <input
                  type="checkbox"
                  id="quietArea"
                  name="quietArea"
                  class="h-5 w-5 rounded border-white/20 bg-white/5 text-[#7FFFD4]"
                />
                <label for="quietArea" class="text-white"
                  >Quiet Area Preferred</label
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Submit Button -->
        <div class="text-center">
          <button
            type="submit"
            class="bg-[#7FFFD4] text-gray-900 text-lg font-semibold px-12 py-4 rounded-lg hover:bg-[#70E0C0] transition-all duration-300"
          >
            Generate Travel Insights
            <i class="fas fa-compass ml-2"></i>
          </button>
        </div>
      </form>
    </div>

    <!-- Currency Selection Modal -->
    <div id="currencyModal" class="fixed inset-0 z-50 hidden">
      <div class="absolute inset-0 bg-black/80 backdrop-blur-sm"></div>
      <div class="relative min-h-screen flex items-center justify-center p-4">
        <div
          class="bg-[#1e1e2f]/80 backdrop-blur-md rounded-xl p-8 max-w-md w-full mx-auto"
        >
          <h3 class="text-[#7FFFD4] text-2xl font-semibold mb-6">
            Select Your Currency
          </h3>
          <!-- Modified Select Dropdown -->
          <select
            id="currencySelect"
            class="w-full bg-[#0d1437] text-white border border-white/20 rounded-lg px-4 py-3 mb-6 focus:outline-none focus:ring-2 focus:ring-[#7FFFD4] appearance-none cursor-pointer relative"
          >
            <option value="USD">US Dollar (USD)</option>
            <option value="EUR">Euro (EUR)</option>
            <option value="GBP">British Pound (GBP)</option>
            <option value="JPY">Japanese Yen (JPY)</option>
            <option value="AUD">Australian Dollar (AUD)</option>
            <option value="CAD">Canadian Dollar (CAD)</option>
            <option value="CHF">Swiss Franc (CHF)</option>
            <option value="CNY">Chinese Yuan (CNY)</option>
            <option value="INR">Indian Rupee (INR)</option>
            <option value="PHP">Philippine Peso (PHP)</option>
            <option value="SGD">Singapore Dollar (SGD)</option>
            <option value="HKD">Hong Kong Dollar (HKD)</option>
            <option value="SAR">Saudi Riyal (SAR)</option>
            <option value="AED">Emirati Dirham (AED)</option>
            <option value="BRL">Brazilian Real (BRL)</option>
            <option value="MXN">Mexican Peso (MXN)</option>
            <option value="RUB">Russian Ruble (RUB)</option>
            <option value="ZAR">South African Rand (ZAR)</option>
            <option value="KRW">South Korean Won (KRW)</option>
            <option value="THB">Thai Baht (THB)</option>
            <option value="IDR">Indonesian Rupiah (IDR)</option>
            <option value="MYR">Malaysian Ringgit (MYR)</option>
            <option value="AFN">Afghan Afghani (AFN)</option>
            <option value="ALL">Albanian Lek (ALL)</option>
            <option value="DZD">Algerian Dinar (DZD)</option>
            <option value="AOA">Angolan Kwanza (AOA)</option>
            <option value="ARS">Argentine Peso (ARS)</option>
            <option value="AMD">Armenian Dram (AMD)</option>
            <option value="AWG">Aruban Florin (AWG)</option>
            <option value="AZN">Azerbaijani Manat (AZN)</option>
            <option value="BSD">Bahamian Dollar (BSD)</option>
            <option value="BHD">Bahraini Dinar (BHD)</option>
            <option value="BDT">Bangladeshi Taka (BDT)</option>
            <option value="BBD">Barbadian Dollar (BBD)</option>
            <option value="BYN">Belarusian Ruble (BYN)</option>
            <option value="BZD">Belize Dollar (BZD)</option>
            <option value="BMD">Bermudian Dollar (BMD)</option>
            <option value="BTN">Bhutanese Ngultrum (BTN)</option>
            <option value="BOB">Bolivian Boliviano (BOB)</option>
            <option value="BAM">
              Bosnia and Herzegovina Convertible Mark (BAM)
            </option>
            <option value="BWP">Botswana Pula (BWP)</option>
            <option value="NOK">Norwegian Krone (NOK)</option>
            <option value="BGN">Bulgarian Lev (BGN)</option>
            <option value="BIF">Burundian Franc (BIF)</option>
            <option value="CVE">Cape Verdean Escudo (CVE)</option>
            <option value="KHR">Cambodian Riel (KHR)</option>
            <option value="XAF">Central African CFA Franc (XAF)</option>
            <option value="XOF">West African CFA Franc (XOF)</option>
            <option value="XPF">CFP Franc (XPF)</option>
            <option value="CLP">Chilean Peso (CLP)</option>
            <option value="COP">Colombian Peso (COP)</option>
            <option value="KMF">Comorian Franc (KMF)</option>
            <option value="CDF">Congolese Franc (CDF)</option>
            <option value="CRC">Costa Rican Colón (CRC)</option>
            <option value="HRK">Croatian Kuna (HRK)</option>
            <option value="CUP">Cuban Peso (CUP)</option>
            <option value="CZK">Czech Koruna (CZK)</option>
            <option value="DKK">Danish Krone (DKK)</option>
            <option value="DJF">Djiboutian Franc (DJF)</option>
            <option value="DOP">Dominican Peso (DOP)</option>
            <option value="EGP">Egyptian Pound (EGP)</option>
            <option value="SVC">Salvadoran Colón (SVC)</option>
            <option value="ERN">Eritrean Nakfa (ERN)</option>
            <option value="SZL">Swazi Lilangeni (SZL)</option>
            <option value="ETB">Ethiopian Birr (ETB)</option>
            <option value="FJD">Fijian Dollar (FJD)</option>
            <option value="GMD">Gambian Dalasi (GMD)</option>
            <option value="GEL">Georgian Lari (GEL)</option>
            <option value="GHS">Ghanaian Cedi (GHS)</option>
            <option value="GIP">Gibraltar Pound (GIP)</option>
            <option value="GTQ">Guatemalan Quetzal (GTQ)</option>
            <option value="GNF">Guinean Franc (GNF)</option>
            <option value="GYD">Guyanese Dollar (GYD)</option>
            <option value="HTG">Haitian Gourde (HTG)</option>
            <option value="HNL">Honduran Lempira (HNL)</option>
            <option value="HUF">Hungarian Forint (HUF)</option>
            <option value="ISK">Icelandic Króna (ISK)</option>
            <option value="IRR">Iranian Rial (IRR)</option>
            <option value="IQD">Iraqi Dinar (IQD)</option>
            <option value="ILS">Israeli New Shekel (ILS)</option>
            <option value="JMD">Jamaican Dollar (JMD)</option>
            <option value="JOD">Jordanian Dinar (JOD)</option>
            <option value="KZT">Kazakhstani Tenge (KZT)</option>
            <option value="KES">Kenyan Shilling (KES)</option>
            <option value="KWD">Kuwaiti Dinar (KWD)</option>
            <option value="KGS">Kyrgyzstani Som (KGS)</option>
            <option value="LAK">Lao Kip (LAK)</option>
            <option value="LBP">Lebanese Pound (LBP)</option>
            <option value="LSL">Lesotho Loti (LSL)</option>
            <option value="LRD">Liberian Dollar (LRD)</option>
            <option value="LYD">Libyan Dinar (LYD)</option>
            <option value="MOP">Macanese Pataca (MOP)</option>
            <option value="MKD">Macedonian Denar (MKD)</option>
            <option value="MGA">Malagasy Ariary (MGA)</option>
            <option value="MWK">Malawian Kwacha (MWK)</option>
            <option value="MVR">Maldivian Rufiyaa (MVR)</option>
            <option value="MRU">Mauritanian Ouguiya (MRU)</option>
            <option value="MUR">Mauritian Rupee (MUR)</option>
            <option value="MNT">Mongolian Tögrög (MNT)</option>
            <option value="MAD">Moroccan Dirham (MAD)</option>
            <option value="MZN">Mozambican Metical (MZN)</option>
            <option value="MMK">Myanmar Kyat (MMK)</option>
            <option value="NAD">Namibian Dollar (NAD)</option>
            <option value="NPR">Nepalese Rupee (NPR)</option>
            <option value="ANG">Netherlands Antillean Guilder (ANG)</option>
            <option value="NZD">New Zealand Dollar (NZD)</option>
            <option value="NIO">Nicaraguan Córdoba (NIO)</option>
            <option value="NGN">Nigerian Naira (NGN)</option>
            <option value="OMR">Omani Rial (OMR)</option>
            <option value="PKR">Pakistani Rupee (PKR)</option>
            <option value="PGK">Papua New Guinean Kina (PGK)</option>
            <option value="PYG">Paraguayan Guaraní (PYG)</option>
            <option value="PEN">Peruvian Sol (PEN)</option>
            <option value="QAR">Qatari Riyal (QAR)</option>
            <option value="RON">Romanian Leu (RON)</option>
            <option value="RWF">Rwandan Franc (RWF)</option>
            <option value="WST">Samoan Tala (WST)</option>
            <option value="STN">São Tomé and Príncipe Dobra (STN)</option>
            <option value="SHP">Saint Helena Pound (SHP)</option>
            <option value="SLL">Sierra Leonean Leone (SLL)</option>
            <option value="SOS">Somali Shilling (SOS)</option>
            <option value="SSP">South Sudanese Pound (SSP)</option>
            <option value="LKR">Sri Lankan Rupee (LKR)</option>
            <option value="SDG">Sudanese Pound (SDG)</option>
            <option value="SRD">Surinamese Dollar (SRD)</option>
            <option value="SEK">Swedish Krona (SEK)</option>
            <option value="SYP">Syrian Pound (SYP)</option>
            <option value="TWD">New Taiwan Dollar (TWD)</option>
            <option value="TJS">Tajikistani Somoni (TJS)</option>
          </select>

          <div class="flex justify-end space-x-4">
            <button
              id="cancelCurrency"
              class="px-6 py-2 rounded-lg text-white hover:text-[#7FFFD4] transition-colors"
            >
              Cancel
            </button>
            <button
              id="confirmCurrency"
              class="bg-[#7FFFD4] text-gray-900 px-6 py-2 rounded-lg hover:bg-[#70E0C0] transition-colors"
            >
              Confirm
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Results Section (Initially Hidden) -->
    <div id="results" class="hidden">
      <!-- Results will be dynamically populated here -->
    </div>
  </div>
</main>

<!-- Loading Overlay -->
<div id="loadingOverlay" class="loading-overlay hidden">
  <div class="loading-container">
    <div class="loading-spinner"></div>
    <p class="loading-text">
      <span class="block">Gathering your travel insights...</span>
      <span class="block text-sm text-white/70 mt-2"
        >This may take a few moments</span
      >
    </p>
  </div>
</div>

<!-- Custom Scripts -->
<script src="/js/voyage-compass.js"></script>
<script src="/js/currency-selector.js"></script>

<%- include('./partials/footer') %>
